<!doctype html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Interaktywna mapa podr&#243;&#380;y z animacjami pojazd&#243;w"
    />
    <meta name="author" content="Roamly" />
    <title>Roamly - Moja Mapa Podr&#243;&#380;y</title>

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Custom Styles -->
    <link rel="stylesheet" href="./public/styles.css" />
  </head>
  <body class="m-0 p-0 overflow-hidden font-sans">
    <!-- Content -->
    <div class="app-content">
      <!-- Side Panel -->
      <aside id="filterPanel" class="filter-panel">
        <h3 class="filter-title">Filtry</h3>

        <div class="filter-content">
          <h4 class="filter-section-title">Lata</h4>
          <div id="yearFilters" class="filter-checkboxes"></div>

          <h4 class="filter-section-title">&#346;rodki transportu</h4>
          <div id="vehicleFilters" class="filter-checkboxes"></div>

          <button id="resetFiltersBtn" class="reset-filters-btn">Resetuj filtry</button>
        </div>
      </aside>

      <button
        id="toggleFilterBtn"
        class="toggle-filter-btn"
        aria-label="Zwi&#324;/rozwi&#324; panel"
      >
        <span id="toggleIcon">&#9664;</span>
      </button>

      <!-- Map Container -->
      <div id="map" class="map-container"></div>
    </div>

    <!-- Floating Island -->
    <div class="floating-island" role="status" aria-live="polite">
      <p id="statusText" class="floating-island-text">Wybierz cel podr&#243;&#380;y na mapie</p>
    </div>

    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>

    <!-- Details Card -->
    <div id="detailsCard" class="details-card">
      <div id="destImage" class="dest-image" aria-label="Otworz film">
        <span class="dest-image-play" aria-hidden="true">
          <span class="dest-image-play-icon"></span>
        </span>
      </div>
      <div class="details-content">
        <h2 id="destTitle" class="dest-title"></h2>
        <p id="destDate" class="dest-date"></p>
        <p id="destDesc" class="dest-description"></p>
        <button id="closeButton" class="close-button">Zamknij</button>
      </div>
    </div>

    <!-- Video Modal -->
    <div id="videoModal" class="video-modal">
      <div class="video-modal-backdrop"></div>
      <div class="video-modal-content">
        <button id="closeVideoModal" class="video-modal-close" aria-label="Zamknij wideo">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18 6L6 18M6 6L18 18"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </button>
        <div class="video-modal-video-container">
          <iframe
            id="videoFrame"
            class="video-frame"
            src=""
            allow="
              accelerometer;
              autoplay;
              clipboard-write;
              encrypted-media;
              gyroscope;
              picture-in-picture;
            "
            allowfullscreen
          ></iframe>
        </div>
        <div class="video-modal-info">
          <h3 id="videoModalTitle" class="video-modal-title"></h3>
        </div>
      </div>
    </div>

    <!-- Info Badge -->
    <details class="info-badge">
      <summary class="info-button" aria-label="Informacje o autorze" title="Informacje">i</summary>
      <div class="info-panel">
        <p class="info-text">
          Stworzone z &#10084;&#65039; przez
          <a
            href="https://pawelwielga.dihor.pl/"
            target="_blank"
            rel="noopener noreferrer"
            class="info-link"
            >DIHOR Pawe&#322; Wielga</a
          >
        </p>
      </div>
    </details>

    <!-- Leaflet JS -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>

    <!-- Main Application Script -->
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
